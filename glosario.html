// Añade esto al final del <script> en glosario.html
document.addEventListener('DOMContentLoaded', function() {
    // Hacer que los títulos sean clickeables para expandir/contraer
    const titulos = document.querySelectorAll('.termino-titulo');
    titulos.forEach(titulo => {
        titulo.addEventListener('click', function() {
            const icono = this.querySelector('.toggle-icon');
            const definicion = this.closest('.termino-card');
            
            if (icono.textContent === '▼') {
                icono.textContent = '▲';
                definicion.style.paddingBottom = '35px';
            } else {
                icono.textContent = '▼';
                definicion.style.paddingBottom = '25px';
            }
        });
    });
    
    // Mejorar enlaces "Ver también"
    const enlaces = document.querySelectorAll('.termino-relacionados a');
    enlaces.forEach(enlace => {
        enlace.addEventListener('click', function(e) {
            e.preventDefault();
            const terminoBuscado = this.textContent.trim();
            const input = document.getElementById('searchInput');
            
            // Poner el término en la búsqueda
            input.value = terminoBuscado;
            
            // Ejecutar búsqueda
            buscarTermino();
            
            // Desplazar al resultado
            setTimeout(() => {
                const seccionesVisibles = document.querySelectorAll('.letra-section[style="display: block;"]');
                if (seccionesVisibles.length > 0) {
                    seccionesVisibles[0].scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }, 100);
        });
    });
    
    // Añadir más letras al alfabeto
    const letrasCompletas = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','Ñ','O','P','Q','R','S','T','U','V','W','X','Y','Z'];
    const alfabeto = document.querySelector('.alphabet');
    
    // Limpiar y reconstruir alfabeto
    alfabeto.innerHTML = '';
    
    // Botón TODAS
    const todasBtn = document.createElement('button');
    todasBtn.className = 'letter-btn active';
    todasBtn.textContent = 'TODAS';
    todasBtn.onclick = () => filtrarPorLetra('todas');
    alfabeto.appendChild(todasBtn);
    
    // Botones por letra
    letrasCompletas.forEach(letra => {
        const btn = document.createElement('button');
        btn.className = 'letter-btn';
        btn.textContent = letra;
        btn.onclick = () => filtrarPorLetra(letra);
        alfabeto.appendChild(btn);
    });
});
