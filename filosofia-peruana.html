<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios Filos√≥ficos - ASEFIP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* HEADER */
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            text-decoration: none;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            z-index: 100;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* STATS BAR */
        .stats-bar {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        /* MENU INICIAL */
        .menu {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .menu h2 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .modes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
            text-align: center;
        }

        .mode-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .mode-card.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .mode-card h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .mode-card p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .difficulty-selector {
            margin-top: 30px;
        }

        .difficulty-selector h3 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }

        .difficulty-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .difficulty-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .difficulty-btn.facil {
            background: #4CAF50;
            color: white;
        }

        .difficulty-btn.medio {
            background: #FF9800;
            color: white;
        }

        .difficulty-btn.dificil {
            background: #F44336;
            color: white;
        }

        .difficulty-btn:hover {
            transform: scale(1.05);
        }

        .start-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .start-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* JUEGO */
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .game-container.active {
            display: block;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .question-number {
            font-size: 1.2rem;
            color: #667eea;
            font-weight: bold;
        }

        .timer {
            font-size: 1.5rem;
            color: #F44336;
            font-weight: bold;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }

        .question-text {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 30px;
            line-height: 1.6;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            padding: 20px;
            background: #f5f7fa;
            border: 3px solid transparent;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .option:hover {
            background: #e8ecf3;
            border-color: #667eea;
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .option.incorrect {
            background: #F44336;
            color: white;
            border-color: #F44336;
        }

        .option:disabled {
            cursor: not-allowed;
        }

        .next-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s;
        }

        .next-btn:hover {
            transform: translateY(-3px);
        }

        .next-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* RESULTADOS */
        .results {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            text-align: center;
        }

        .results.active {
            display: block;
        }

        .results h2 {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 30px;
        }

        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 30px auto;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .score-number {
            font-size: 4rem;
            font-weight: bold;
        }

        .score-label {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .result-stat {
            padding: 20px;
            background: #f5f7fa;
            border-radius: 15px;
        }

        .result-stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        .result-stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .feedback {
            background: #e7f3ff;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
            margin: 30px 0;
            text-align: left;
        }

        .feedback h3 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .action-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .action-btn.secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .action-btn:hover {
            transform: scale(1.05);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .modes-grid {
                grid-template-columns: 1fr;
            }

            .difficulty-buttons {
                flex-direction: column;
            }

            .action-buttons {
                flex-direction: column;
            }

            .question-text {
                font-size: 1.2rem;
            }
        }

        .hidden {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">‚Üê Volver</a>

    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üéØ Ejercicios Filos√≥ficos Interactivos</h1>
            <p>Pon a prueba tus conocimientos con preguntas desafiantes</p>
        </div>

        <!-- STATS BAR -->
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-number" id="totalJuegos">0</div>
                <div class="stat-label">Juegos Jugados</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="mejorScore">0%</div>
                <div class="stat-label">Mejor Score</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="racha">0</div>
                <div class="stat-label">Racha Actual</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="totalPreguntas">0</div>
                <div class="stat-label">Preguntas Respondidas</div>
            </div>
        </div>

        <!-- MEN√ö INICIAL -->
        <div class="menu" id="menu">
            <h2>Selecciona el Modo de Juego</h2>
            
            <div class="modes-grid">
                <div class="mode-card" data-mode="clasico" onclick="seleccionarModo('clasico')">
                    <div class="mode-icon">üìö</div>
                    <h3>Cl√°sico</h3>
                    <p>10 preguntas sobre filosof√≠a general</p>
                </div>

                <div class="mode-card" data-mode="peruana" onclick="seleccionarModo('peruana')">
                    <div class="mode-icon">üáµüá™</div>
                    <h3>Filosof√≠a Peruana</h3>
                    <p>Enfocado en pensadores peruanos</p>
                </div>

                <div class="mode-card" data-mode="relampago" onclick="seleccionarModo('relampago')">
                    <div class="mode-icon">‚ö°</div>
                    <h3>Rel√°mpago</h3>
                    <p>15 segundos por pregunta</p>
                </div>

                <div class="mode-card" data-mode="experto" onclick="seleccionarModo('experto')">
                    <div class="mode-icon">üëë</div>
                    <h3>Modo Experto</h3>
                    <p>20 preguntas desafiantes</p>
                </div>
            </div>

            <div class="difficulty-selector">
                <h3>Nivel de Dificultad</h3>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn facil" onclick="seleccionarDificultad('facil')">
                        üòä F√°cil
                    </button>
                    <button class="difficulty-btn medio" onclick="seleccionarDificultad('medio')">
                        ü§î Medio
                    </button>
                    <button class="difficulty-btn dificil" onclick="seleccionarDificultad('dificil')">
                        üî• Dif√≠cil
                    </button>
                </div>
            </div>

            <button class="start-btn" id="startBtn" onclick="iniciarJuego()" disabled>
                üöÄ Comenzar Juego
            </button>
        </div>

        <!-- CONTENEDOR DEL JUEGO -->
        <div class="game-container" id="gameContainer">
            <div class="question-header">
                <div class="question-number" id="questionNumber">Pregunta 1/10</div>
                <div class="timer" id="timer">30s</div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>

            <div class="question-text" id="questionText"></div>

            <div class="options" id="optionsContainer"></div>

            <button class="next-btn" id="nextBtn" onclick="siguientePregunta()" disabled>
                Siguiente Pregunta ‚Üí
            </button>
        </div>

        <!-- RESULTADOS -->
        <div class="results" id="results">
            <h2>üéâ ¬°Juego Completado!</h2>

            <div class="score-circle">
                <div class="score-number" id="finalScore">0</div>
                <div class="score-label">puntos</div>
            </div>

            <div class="results-stats">
                <div class="result-stat">
                    <div class="result-stat-number" id="correctas">0</div>
                    <div class="result-stat-label">Correctas</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-number" id="incorrectas">0</div>
                    <div class="result-stat-label">Incorrectas</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-number" id="porcentaje">0%</div>
                    <div class="result-stat-label">Precisi√≥n</div>
                </div>
                <div class="result-stat">
                    <div class="result-stat-number" id="tiempoTotal">0s</div>
                    <div class="result-stat-label">Tiempo Total</div>
                </div>
            </div>

            <div class="feedback" id="feedback">
                <h3>üí° Retroalimentaci√≥n</h3>
                <p id="feedbackText"></p>
            </div>

            <div class="action-buttons">
                <button class="action-btn primary" onclick="reiniciarJuego()">
                    üîÑ Jugar Nuevamente
                </button>
                <button class="action-btn secondary" onclick="volverMenu()">
                    üìã Cambiar Modo
                </button>
                <button class="action-btn secondary" onclick="location.href='index.html'">
                    üè† Ir al Inicio
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // BANCO DE PREGUNTAS
        // ============================================
        const preguntas = {
            clasico: {
                facil: [
                    {
                        pregunta: "¬øQui√©n fue el maestro de Plat√≥n?",
                        opciones: ["Arist√≥teles", "S√≥crates", "Pit√°goras", "Her√°clito"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© fil√≥sofo dijo 'Pienso, luego existo'?",
                        opciones: ["Kant", "Descartes", "Hegel", "Spinoza"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© estudia la √©tica?",
                        opciones: ["El conocimiento", "La moral y las acciones", "El ser", "La belleza"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQui√©n escribi√≥ 'La Rep√∫blica'?",
                        opciones: ["S√≥crates", "Plat√≥n", "Arist√≥teles", "Epicuro"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es la may√©utica socr√°tica?",
                        opciones: ["Un tipo de l√≥gica", "Arte de dar a luz ideas mediante preguntas", "Una teor√≠a √©tica", "Un m√©todo cient√≠fico"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© rama de la filosof√≠a estudia el conocimiento?",
                        opciones: ["Ontolog√≠a", "Epistemolog√≠a", "Axiolog√≠a", "Est√©tica"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQui√©n es conocido como el padre de la filosof√≠a occidental?",
                        opciones: ["Plat√≥n", "Tales de Mileto", "S√≥crates", "Arist√≥teles"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© significa 'filosof√≠a' literalmente?",
                        opciones: ["Amor a la sabidur√≠a", "Estudio del ser", "B√∫squeda de la verdad", "Ciencia del pensamiento"],
                        correcta: 0
                    },
                    {
                        pregunta: "¬øQu√© fil√≥sofo propuso el imperativo categ√≥rico?",
                        opciones: ["Hegel", "Kant", "Schopenhauer", "Nietzsche"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© estudia la metaf√≠sica?",
                        opciones: ["La mente humana", "La naturaleza de la realidad", "Las leyes morales", "El arte"],
                        correcta: 1
                    }
                ],
                medio: [
                    {
                        pregunta: "¬øQu√© es el 'mito de la caverna' de Plat√≥n?",
                        opciones: [
                            "Una alegor√≠a sobre el conocimiento y la realidad",
                            "Una teor√≠a sobre el origen del universo",
                            "Un mito sobre los dioses griegos",
                            "Una historia sobre la fundaci√≥n de Atenas"
                        ],
                        correcta: 0
                    },
                    {
                        pregunta: "Seg√∫n Arist√≥teles, ¬øqu√© es la 'eudaimonia'?",
                        opciones: ["El placer", "El florecimiento o vida buena", "La riqueza", "La fama"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© fil√≥sofo proclam√≥ la 'muerte de Dios'?",
                        opciones: ["Sartre", "Nietzsche", "Camus", "Heidegger"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es el 'imperativo categ√≥rico' de Kant?",
                        opciones: [
                            "Una orden del Estado",
                            "Un principio √©tico universal",
                            "Una teor√≠a del conocimiento",
                            "Una cr√≠tica religiosa"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© significa 'existencia precede a la esencia' en Sartre?",
                        opciones: [
                            "Nacemos con una naturaleza fija",
                            "Nos creamos a trav√©s de nuestras decisiones",
                            "La esencia es m√°s importante",
                            "Todo est√° predeterminado"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es el 'velo de ignorancia' de John Rawls?",
                        opciones: [
                            "Una teor√≠a del conocimiento",
                            "Un experimento mental para pensar sobre justicia",
                            "Una cr√≠tica a la democracia",
                            "Una defensa del capitalismo"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "Seg√∫n Her√°clito, ¬øcu√°l es la naturaleza de la realidad?",
                        opciones: ["Est√°tica e inmutable", "Cambio constante", "Ilusoria", "Perfecta"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es el 'superhombre' de Nietzsche?",
                        opciones: [
                            "Un ser biol√≥gicamente superior",
                            "Un ideal humano que crea sus propios valores",
                            "Un l√≠der pol√≠tico",
                            "Un concepto religioso"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© propone el utilitarismo de Mill?",
                        opciones: [
                            "Actuar seg√∫n el deber",
                            "Maximizar la felicidad general",
                            "Seguir las leyes naturales",
                            "Buscar la virtud personal"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es la 'tabula rasa' de Locke?",
                        opciones: [
                            "Una teor√≠a del Estado",
                            "La mente como p√°gina en blanco al nacer",
                            "Un m√©todo filos√≥fico",
                            "Una cr√≠tica a la religi√≥n"
                        ],
                        correcta: 1
                    }
                ],
                dificil: [
                    {
                        pregunta: "¬øQu√© es el 'dasein' en la filosof√≠a de Heidegger?",
                        opciones: [
                            "La existencia aut√©ntica",
                            "El ser-ah√≠ o existencia humana",
                            "La angustia existencial",
                            "La muerte inevitable"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "En la Cr√≠tica de la Raz√≥n Pura, ¬øqu√© son los 'no√∫menos'?",
                        opciones: [
                            "Lo que percibimos con los sentidos",
                            "Las cosas en s√≠ mismas, incognoscibles",
                            "Las ideas innatas",
                            "Los conceptos a priori"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es la 'diferencia ontol√≥gica' en Heidegger?",
                        opciones: [
                            "Entre sujeto y objeto",
                            "Entre el Ser y los entes",
                            "Entre esencia y existencia",
                            "Entre teor√≠a y pr√°ctica"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© propone el 'giro ling√º√≠stico' en filosof√≠a?",
                        opciones: [
                            "Estudiar las lenguas antiguas",
                            "El lenguaje como objeto central de an√°lisis filos√≥fico",
                            "Abandonar el lenguaje t√©cnico",
                            "Crear un lenguaje universal"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es la 'voluntad de poder' en Nietzsche?",
                        opciones: [
                            "Deseo de dominar a otros",
                            "Fuerza vital fundamental de afirmaci√≥n",
                            "B√∫squeda de poder pol√≠tico",
                            "Instinto de supervivencia"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© significa 'epoj√©' en la fenomenolog√≠a de Husserl?",
                        opciones: [
                            "An√°lisis del tiempo",
                            "Suspensi√≥n del juicio sobre la existencia",
                            "M√©todo dial√©ctico",
                            "Cr√≠tica epistemol√≥gica"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "En Spinoza, ¬øqu√© es la 'sustancia'?",
                        opciones: [
                            "La materia f√≠sica",
                            "Dios o la Naturaleza, lo que existe por s√≠ mismo",
                            "La esencia humana",
                            "El alma inmaterial"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es la 'dial√©ctica' en Hegel?",
                        opciones: [
                            "Un m√©todo de debate",
                            "Proceso de tesis-ant√≠tesis-s√≠ntesis",
                            "Una teor√≠a l√≥gica",
                            "Una cr√≠tica social"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© propone el 'principio de verificaci√≥n' del positivismo l√≥gico?",
                        opciones: [
                            "Toda verdad es relativa",
                            "Un enunciado tiene sentido si es verificable emp√≠ricamente",
                            "La metaf√≠sica es fundamental",
                            "La fe supera a la raz√≥n"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© es el 'eterno retorno' en Nietzsche?",
                        opciones: [
                            "La reencarnaci√≥n del alma",
                            "Pensamiento de que todo se repite infinitamente",
                            "El ciclo de las estaciones",
                            "La historia se repite"
                        ],
                        correcta: 1
                    }
                ]
            },
            peruana: {
                facil: [
                    {
                        pregunta: "¬øQui√©n fue Augusto Salazar Bondy?",
                        opciones: ["Un pol√≠tico peruano", "El fil√≥sofo peruano m√°s influyente del s.XX", "Un escritor", "Un educador"],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© pregunta plante√≥ Salazar Bondy?",
                        opciones: [
                            "¬øExiste Dios?",
                            "¬øExiste una filosof√≠a aut√©nticamente latinoamericana?",
                            "¬øQu√© es la verdad?",
                            "¬øCu√°l es el sentido de la vida?"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQui√©n fue Jos√© Carlos Mari√°tegui?",
                        opciones: ["Un fil√≥sofo marxista peruano", "Un poeta", "Un cient√≠fico", "Un pol√≠tico liberal"],
                        correcta: 0
                    },
                    {
                        pregunta: "¬øQu√© obra escribi√≥ Mari√°tegui?",
                        opciones: [
                            "La Rep√∫blica",
                            "7 Ensayos de interpretaci√≥n de la realidad peruana",
                            "El Pr√≠ncipe",
                            "La Ciudad de Dios"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQui√©n desarroll√≥ la teor√≠a de la raz√≥n vital?",
                        opciones: ["Salazar Bondy", "Francisco Mir√≥ Quesada", "Mari√°tegui", "Bela√∫nde"],
                        correcta: 1
                    }
                ],
                medio: [
                    {
                        pregunta: "Seg√∫n Salazar Bondy, ¬øpor qu√© la filosof√≠a latinoamericana ha sido imitativa?",
                        opciones: [
                            "Por falta de talento",
                            "Por las condiciones de dependencia econ√≥mica y cultural",
                            "Por elecci√≥n propia",
                            "Por influencia religiosa"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "¬øQu√© propuso V√≠ctor Andr√©s Bela√∫nde?",
                        opciones: [
                            "El materialismo hist√≥rico",
                            "La s√≠ntesis viviente entre tradici√≥n y modernidad",
                            "El positivismo radical",
                            "El existencialismo cristiano"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "Francisco Mir√≥ Quesada vivi√≥ hasta qu√© edad?",
                        opciones: ["80 a√±os", "90 a√±os", "100 a√±os", "101 a√±os"],
                        correcta: 3
                    },
                    {
                        pregunta: "¬øQu√© estudi√≥ Mar√≠a Luisa Rivara de Tuesta?",
                        opciones: [
                            "Filosof√≠a contempor√°nea",
                            "Historia de las ideas filos√≥ficas en el Per√∫ colonial",
                            "L√≥gica formal",
                            "Est√©tica moderna"
                        ],
                        correcta: 1
                    },
                    {
                        pregunta: "Seg√∫n Mari√°tegui, ¬øcu√°l es el problema fundamental del Per√∫?",
                        opciones: ["La educaci√≥n", "El problema del indio y la tierra", "La religi√≥n", "La democracia"],
                        correcta: 1
                    }
                ]
            }
        };

        // ============================================
        // VARIABLES GLOBALES
        // ============================================
        let modoSeleccionado = null;
        let dificultadSeleccionada = null;
        let preguntasActuales = [];
        let preguntaActual = 0;
        let respuestasCorrectas = 0;
        let tiempoInicio = 0;
        let tiempoTimer = null;
        let tiempoRestante = 30;

        // ============================================
        // ESTAD√çSTICAS
        // ============================================
        function cargarEstadisticas() {
            const stats = JSON.parse(localStorage.getItem('filosofia_stats') || '{}');
            document.getElementById('totalJuegos').textContent = stats.totalJuegos || 0;
            document.getElementById('mejorScore').textContent = (stats.mejorScore || 0) + '%';
            document.getElementById('racha').textContent = stats.racha || 0;
            document.getElementById('totalPreguntas').textContent = stats.totalPreguntas || 0;
        }

        function guardarEstadisticas(correctas, total) {
            const stats = JSON.parse(localStorage.getItem('filosofia_stats') || '{}');
            const porcentaje = Math.round((correctas / total) * 100);
            
            stats.totalJuegos = (stats.totalJuegos || 0) + 1;
            stats.totalPreguntas = (stats.totalPreguntas || 0) + total;
            stats.mejorScore = Math.max(stats.mejorScore || 0, porcentaje);
            
            if (porcentaje >= 80) {
                stats.racha = (stats.racha || 0) + 1;
            } else {
                stats.racha = 0;
            }
            
            localStorage.setItem('filosofia_stats', JSON.stringify(stats));
            cargarEstadisticas();
        }

        // ============================================
        // SELECCI√ìN DE MODO Y DIFICULTAD
        // ============================================
        function seleccionarModo(modo) {
            modoSeleccionado = modo;
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-mode="${modo}"]`).classList.add('selected');
            verificarInicio();
        }

        function seleccionarDificultad(dificultad) {
            dificultadSeleccionada = dificultad;
            verificarInicio();
        }

        function verificarInicio() {
            const btn = document.getElementById('startBtn');
            btn.disabled = !(modoSeleccionado && dificultadSeleccionada);
        }

        // ============================================
        // INICIAR JUEGO
        // ============================================
        function iniciarJuego() {
            // Preparar preguntas
            if (modoSeleccionado === 'clasico' || modoSeleccionado === 'relampago' || modoSeleccionado === 'experto') {
                preguntasActuales = [...preguntas.clasico[dificultadSeleccionada]];
            } else {
                preguntasActuales = [...preguntas.peruana[dificultadSeleccionada]];
            }

            // Mezclar preguntas
            preguntasActuales.sort(() => Math.random() - 0.5);

            // Ajustar cantidad seg√∫n modo
            if (modoSeleccionado === 'experto') {
                preguntasActuales = preguntasActuales.slice(0, 20);
            } else {
                preguntasActuales = preguntasActuales.slice(0, 10);
            }

            // Resetear variables
            preguntaActual = 0;
            respuestasCorrectas = 0;
            tiempoInicio = Date.now();

            // Mostrar juego
            document.getElementById('menu').style.display = 'none';
            document.getElementById('gameContainer').classList.add('active');

            mostrarPregunta();
        }

        // ============================================
        // MOSTRAR PREGUNTA
        // ============================================
        function mostrarPregunta() {
            const pregunta = preguntasActuales[preguntaActual];
            
            // Actualizar n√∫mero
            document.getElementById('questionNumber').textContent = 
                `Pregunta ${preguntaActual + 1}/${preguntasActuales.length}`;
            
            // Actualizar progreso
            const progreso = ((preguntaActual + 1) / preguntasActuales.length) * 100;
            document.getElementById('progressFill').style.width = progreso + '%';
            
            // Mostrar pregunta
            document.getElementById('questionText').textContent = pregunta.pregunta;
            
            // Mostrar opciones
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            
            pregunta.opciones.forEach((opcion, index) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.textContent = opcion;
                div.onclick = () => seleccionarOpcion(index, div);
                container.appendChild(div);
            });
            
            // Resetear bot√≥n
            document.getElementById('nextBtn').disabled = true;
            
            // Iniciar timer
            if (modoSeleccionado === 'relampago') {
                tiempoRestante = 15;
            } else {
                tiempoRestante = 30;
            }
            
            iniciarTimer();
        }

        // ============================================
        // TIMER
        // ============================================
        function iniciarTimer() {
            clearInterval(tiempoTimer);
            actualizarTimer();
            
            tiempoTimer = setInterval(() => {
                tiempoRestante--;
                actualizarTimer();
                
                if (tiempoRestante <= 0) {
                    clearInterval(tiempoTimer);
                    // Tiempo agotado - contar como incorrecta
                    mostrarResultadoPregunta(-1);
                }
            }, 1000);
        }

        function actualizarTimer() {
            document.getElementById('timer').textContent = tiempoRestante + 's';
            
            if (tiempoRestante <= 5) {
                document.getElementById('timer').style.color = '#F44336';
            } else {
                document.getElementById('timer').style.color = '#FF9800';
            }
        }

        // ============================================
        // SELECCIONAR OPCI√ìN
        // ============================================
        function seleccionarOpcion(index, elemento) {
            clearInterval(tiempoTimer);
            
            const pregunta = preguntasActuales[preguntaActual];
            const opciones = document.querySelectorAll('.option');
            
            // Deshabilitar todas las opciones
            opciones.forEach(opt => opt.style.pointerEvents = 'none');
            
            mostrarResultadoPregunta(index);
        }

        function mostrarResultadoPregunta(indiceSeleccionado) {
            const pregunta = preguntasActuales[preguntaActual];
            const opciones = document.querySelectorAll('.option');
            
            // Mostrar correcta
            opciones[pregunta.correcta].classList.add('correct');
            
            // Si seleccion√≥ incorrecta, mostrarla
            if (indiceSeleccionado !== -1 && indiceSeleccionado !== pregunta.correcta) {
                opciones[indiceSeleccionado].classList.add('incorrect');
            }
            
            // Contar respuesta
            if (indiceSeleccionado === pregunta.correcta) {
                respuestasCorrectas++;
            }
            
            // Habilitar bot√≥n siguiente
            document.getElementById('nextBtn').disabled = false;
        }

        // ============================================
        // SIGUIENTE PREGUNTA
        // ============================================
        function siguientePregunta() {
            preguntaActual++;
            
            if (preguntaActual < preguntasActuales.length) {
                mostrarPregunta();
            } else {
                mostrarResultados();
            }
        }

        // ============================================
        // MOSTRAR RESULTADOS
        // ============================================
        function mostrarResultados() {
            clearInterval(tiempoTimer);
            
            const total = preguntasActuales.length;
            const incorrectas = total - respuestasCorrectas;
            const porcentaje = Math.round((respuestasCorrectas / total) * 100);
            const tiempoTotal = Math.round((Date.now() - tiempoInicio) / 1000);
            
            // Calcular puntos
            let puntos = respuestasCorrectas * 10;
            if (dificultadSeleccionada === 'medio') puntos *= 1.5;
            if (dificultadSeleccionada === 'dificil') puntos *= 2;
            puntos = Math.round(puntos);
            
            // Guardar estad√≠sticas
            guardarEstadisticas(respuestasCorrectas, total);
            
            // Mostrar resultados
            document.getElementById('gameContainer').classList.remove('active');
            document.getElementById('results').classList.add('active');
            
            document.getElementById('finalScore').textContent = puntos;
            document.getElementById('correctas').textContent = respuestasCorrectas;
            document.getElementById('incorrectas').textContent = incorrectas;
            document.getElementById('porcentaje').textContent = porcentaje + '%';
            document.getElementById('tiempoTotal').textContent = tiempoTotal + 's';
            
            // Feedback personalizado
            let feedback = '';
            if (porcentaje >= 90) {
                feedback = 'üèÜ ¬°Excelente! Dominas estos conceptos filos√≥ficos. Eres un verdadero pensador.';
            } else if (porcentaje >= 70) {
                feedback = 'üëè ¬°Muy bien! Tienes un buen conocimiento de filosof√≠a. Sigue practicando.';
            } else if (porcentaje >= 50) {
                feedback = 'üìö Buen intento. Repasa los conceptos y vuelve a intentarlo.';
            } else {
                feedback = 'üí™ Sigue estudiando. La filosof√≠a requiere pr√°ctica. ¬°No te rindas!';
            }
            
            document.getElementById('feedbackText').textContent = feedback;
        }

        // ============================================
        // REINICIAR Y MEN√ö
        // ============================================
        function reiniciarJuego() {
            document.getElementById('results').classList.remove('active');
            document.getElementById('menu').style.display = 'block';
        }

        function volverMenu() {
            reiniciarJuego();
        }

        // ============================================
        // INICIALIZACI√ìN
        // ============================================
        window.addEventListener('load', () => {
            cargarEstadisticas();
        });
    </script>
</body>
</html>
